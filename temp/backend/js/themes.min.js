$("#form").submit(function (e) { e.preventDefault(); var me = $(this); $("#submit").prop('disabled', !0).text('Memproses...'); $.ajax({ url: me.attr('action'), type: 'post', data: new FormData(this), contentType: !1, cache: !1, dataType: 'JSON', processData: !1, success: function (json) { if (json.success == !0) { if (json.getaccount == !0) { window.location.href = json.url } else { $('#notif').hide().fadeIn(1000).html(`<div class="alert alert-danger m-r-10 m-l-10 m-t-10 m-b-0"><button type="button"class="close"data-dismiss="alert"aria-label="Close"><span aria-hidden="true">Ã—</span></button><i class="fa fa-close"></i>` + json.alert + `<div>`); $("#submit").prop('disabled', !1).text('login'); $("#password").val("").focus(); $(".form-group").find('.text-danger').remove(); $('.alert-danger').delay(9000).show(10, function () { $('.alert-danger').fadeOut(1000, function () { $('.alert-danger').remove() }) }) } } else { $.each(json.alert, function (key, value) { var element = $('#' + key); $("#submit").prop('disabled', !1).text('login'); $(element).closest('.form-group').find('.text-danger').remove(); $(element).after(value) }) } } }) })